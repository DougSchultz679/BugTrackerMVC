@model IEnumerable<BugTracker.Models.ViewModels.AdminViewRolesModel>

@{
    Layout = "/Views/Shared/_LayoutDataTable.cshtml";
}

<h5>User Role Assignments</h5>
<br />
<table id="data-table-2" class="table">
    <thead>
        <tr>
            <th tabindex="0" rowspan="1" colspan="1">
                User Name
            </th>
            <th tabindex="0" rowspan="1" colspan="1">
                User Email
            </th>
            <th tabindex="0" rowspan="1" colspan="1">
                Roles User Enabled For
            </th>
            <th tabindex="0" rowspan="1" colspan="1">
                Modify User Roles
            </th>
        </tr>
    </thead>

    <tfoot>
        <tr>
            <th rowspan="1" colspan="1">User Name</th>
            <th rowspan="1" colspan="1">User Email</th>
            <th rowspan="1" colspan="1">Roles User Enabled For</th>
            <th rowspan="1" colspan="1">Modify User Roles</th>
        </tr>
    </tfoot>
    <tbody>
        @{ for (var i = 0; i < Model.Count(); i++)
            {
                <tr>
                    <td>
                        @(Model.ElementAt(i).User.FullName)
                    </td>
                    <td>
                        @{ string email_3 = "mailto:" + Model.ElementAt(i).User.Email;}
                        <a href="@email_3">
                            @(Model.ElementAt(i).User.Email)
                        </a>
                    </td>
                    <td>
                            @(string.Join(", ", Model.ElementAt(i).SelectedRoles))
                    </td>
                    <td>
                        @Html.ActionLink("Modify roles", "Edit", new { id = Model.ElementAt(i).User.Id })
                    </td>
                </tr>
            }
        }
    </tbody>
</table>
<br/>
<br />
@Html.ActionLink("Back to Project Index","Index","Projects",null,null)